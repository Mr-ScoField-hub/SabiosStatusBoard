<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Agile Sprint Timeline</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
        }

        .container {
            max-width: 450px;
            width: 100%;
            background: white;
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            position: relative;
        }

        .title {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 32px;
        }

        .timeline {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto 20px;
        }

        .circle-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 8px solid #e2e8f0;
            border-radius: 50%;
        }

        .circle-progress {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transform: rotate(-90deg);
            background: conic-gradient(#3b82f6 0deg, transparent 0deg);
            mask-image: radial-gradient(circle at center, transparent 50%, black 51%);
            -webkit-mask-image: radial-gradient(circle at center, transparent 50%, black 51%);
            transition: background 0.8s ease;
        }

        .milestone {
            position: absolute;
            width: 50px;
            height: 50px;
            background: white;
            border: 4px solid #e2e8f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 10;
            color: #6b7280;
            font-weight: 600;
            font-size: 10px;
            user-select: none;
            text-align: center;
            line-height: 1.2;
            transform: translate(-50%, -50%);
        }

        .milestone.completed {
            border-color: #10b981;
            background: #10b981;
            color: white;
        }

        .milestone.active {
            border-color: #3b82f6;
            background: #3b82f6;
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), 0 0 0 0 rgba(59, 130, 246, 0.4);
            }

            50% {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), 0 0 0 8px rgba(59, 130, 246, 0);
            }
        }

        .milestone.wed {
            top: 25px;
            left: 50%;
        }

        .milestone.sun {
            top: 50%;
            right: 25px;
            transform: translate(50%, -50%);
        }

        .milestone.tue {
            bottom: 25px;
            left: 25px;
        }

        .milestone-labels {
            margin-top: 20px;
        }

        .label {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: #f8fafc;
            border-radius: 12px;
            border-left: 4px solid #e2e8f0;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .label.completed {
            background: #f0fdf4;
            border-left-color: #10b981;
        }

        .label.active {
            background: #eff6ff;
            border-left-color: #3b82f6;
            transform: scale(1.02);
        }

        .label-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: #6b7280;
            border: 2px solid #e2e8f0;
            flex-shrink: 0;
        }

        .label.completed .label-icon {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }

        .label.active .label-icon {
            background: #3b82f6;
            border-color: #3b82f6;
            color: white;
        }

        .label-content {
            flex: 1;
        }

        .label-day {
            font-size: 14px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 2px;
        }

        .label-task {
            font-size: 12px;
            color: #6b7280;
        }

        .label-time {
            font-size: 11px;
            color: #9ca3af;
            font-family: monospace;
        }

        .sprint-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background: white;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: 2px solid #f1f5f9;
            user-select: none;
        }

        .sprint-label {
            font-size: 11px;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .countdown {
            font-size: 20px;
            font-weight: 700;
            color: #1a202c;
            font-family: monospace;
        }

        .current-phase {
            font-size: 10px;
            color: #3b82f6;
            font-weight: 600;
            margin-top: 2px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="title">Sprint Timeline</h1>

        <div class="timeline">
            <div class="circle-bg"></div>
            <div class="circle-progress" id="progress"></div>

            <div class="milestone wed" id="milestone-wed">WED<br />Start</div>
            <div class="milestone sun" id="milestone-sun">SUN<br />Submit</div>
            <div class="milestone tue" id="milestone-tue">TUE<br />Final</div>

            <div class="sprint-center">
                <div class="sprint-label">Next milestone</div>
                <div class="countdown" id="countdown">--:--:--</div>
                <div class="current-phase" id="current-phase">Loading...</div>
            </div>
        </div>

        <div class="milestone-labels">
            <div class="label" id="label-wed">
                <div class="label-icon">1</div>
                <div class="label-content">
                    <div class="label-day">Wednesday</div>
                    <div class="label-task">Sprint Start & Planning</div>
                    <div class="label-time" id="time-wed">--</div>
                </div>
            </div>
            <div class="label" id="label-sun">
                <div class="label-icon">2</div>
                <div class="label-content">
                    <div class="label-day">Sunday</div>
                    <div class="label-task">Initial Submission</div>
                    <div class="label-time" id="time-sun">--</div>
                </div>
            </div>
            <div class="label" id="label-tue">
                <div class="label-icon">3</div>
                <div class="label-content">
                    <div class="label-day">Tuesday</div>
                    <div class="label-task">Final Submission & Review</div>
                    <div class="label-time" id="time-tue">--</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const MILESTONES = [
            { id: 'wed', name: 'Sprint Start', day: 3, angle: 0 },
            { id: 'sun', name: 'Initial Submit', day: 0, angle: 90 },
            { id: 'tue', name: 'Final Submit', day: 2, angle: 225 }
        ];

        function formatTime(totalSeconds) {
            const days = Math.floor(totalSeconds / 86400);
            const hours = Math.floor((totalSeconds % 86400) / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;

            if (days > 0) {
                return `${days}d ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds
                    .toString()
                    .padStart(2, '0')}`;
            }
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds
                .toString()
                .padStart(2, '0')}`;
        }

        function formatDate(date) {
            return date.toLocaleDateString('en-US', {
                weekday: 'short',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function getNextDate(dayOfWeek) {
            const now = new Date();
            const currentDay = now.getDay();
            let daysUntil = (dayOfWeek - currentDay + 7) % 7;
            if (daysUntil === 0) daysUntil = 7;
            const nextDate = new Date(now);
            nextDate.setDate(now.getDate() + daysUntil);
            nextDate.setHours(9, 0, 0, 0);
            return nextDate;
        }

        function getPreviousMilestone(currentDay) {
            let daysSince = 0;
            let milestone = null;
            const sorted = [...MILESTONES].sort((a, b) => b.day - a.day);
            for (let m of sorted) {
                let delta = (currentDay - m.day + 7) % 7;
                if (milestone === null || delta < daysSince) {
                    daysSince = delta;
                    milestone = m;
                }
            }
            return { milestone, daysSince };
        }

        function getNextMilestone(currentDay) {
            let daysToNext = 7;
            let milestone = null;
            for (let m of MILESTONES) {
                let delta = (m.day - currentDay + 7) % 7;
                if (delta < daysToNext && delta > 0) {
                    daysToNext = delta;
                    milestone = m;
                }
            }
            if (!milestone) {
                milestone = MILESTONES[0];
                daysToNext = 7;
            }
            return { milestone, daysToNext };
        }

        function update() {
            const now = new Date();
            const currentDay = now.getDay();

            const { milestone: nextMilestone, daysToNext } = getNextMilestone(currentDay);
            const { milestone: prevMilestone, daysSince } = getPreviousMilestone(currentDay);

            const totalDays = daysToNext + daysSince;
            const progress = daysSince / totalDays;
            const progressAngle = progress * 360;

            const progressEl = document.getElementById('progress');
            progressEl.style.setProperty('--progress-angle', `${progressAngle}deg`);
            progressEl.style.background = `conic-gradient(#3b82f6 ${progressAngle}deg, transparent 0deg)`;

            const nextDate = getNextDate(nextMilestone.day);
            const timeToNext = Math.max(0, Math.floor((nextDate - now) / 1000));

            document.getElementById('countdown').textContent = formatTime(timeToNext);
            document.getElementById('current-phase').textContent = nextMilestone.name;

            MILESTONES.forEach(milestone => {
                const milestoneEl = document.getElementById(`milestone-${milestone.id}`);
                const labelEl = document.getElementById(`label-${milestone.id}`);
                const timeEl = document.getElementById(`time-${milestone.id}`);

                milestoneEl.classList.remove('completed', 'active');
                labelEl.classList.remove('completed', 'active');

                const milestoneDate = getNextDate(milestone.day);
                timeEl.textContent = formatDate(milestoneDate);

                if (milestone.id === nextMilestone.id) {
                    milestoneEl.classList.add('active');
                    labelEl.classList.add('active');
                } else if (milestone.id === prevMilestone.id && daysSince > 0) {
                    milestoneEl.classList.add('completed');
                    labelEl.classList.add('completed');
                }
            });
        }

        update();
        setInterval(update, 1000);
    </script>
</body>

</html>